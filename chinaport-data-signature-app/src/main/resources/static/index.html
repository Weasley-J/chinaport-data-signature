<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="smart-doc"><title>中国电子口岸（海口海关）报文加签API文档</title><link rel="stylesheet" href="font.css"><link rel="stylesheet" href="AllInOne.css?v=1690528294756"/><link rel="stylesheet" href="xt256.min.css"><style>.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint {background: #000  } .hljs {padding: 0 }</style><script src="highlight.min.js"></script><script src="jquery.min.js"></script></head><body class="book toc2 toc-left"><div id="header"><h1>中国电子口岸（海口海关）报文加签API文档</h1><div id="toc" class="toc2"><div id="book-search-input"><input id="search" type="text" placeholder="Type to search"></div><div id="toctitle"><span>API Reference</span></div><ul id="accordion" class="sectlevel1"><li class="open"><a class="dd" href="#_1_1_电子口岸报文加签测试">1.&nbsp;电子口岸报文加签测试</a><ul class="sectlevel2"><li><a href="#_1_1_1_海关总署XML数据加签">1.1.&nbsp;海关总署XML数据加签</a></li><li><a href="#_1_1_2_海关179数据抓取加签">1.2.&nbsp;海关179数据抓取加签</a></li><li><a href="#_1_1_3_执行脚本命令">1.3.&nbsp;执行脚本命令</a></li></ul></li><li class="open"><a class="dd" href="#_1_2_Ukey健康状态恢复">2.&nbsp;Ukey健康状态恢复</a><ul class="sectlevel2"><li><a href="#_1_2_1_ukey健康指令">2.1.&nbsp;ukey健康指令</a></li></ul></li><li class="open"><a class="dd" href="#_1_3_电子口岸报文推送">3.&nbsp;电子口岸报文推送</a><ul class="sectlevel2"><li><a href="#_1_3_1_推送CEBMessage报文">3.1.&nbsp;推送CEBMessage报文</a></li><li><a href="#_1_3_2_推送海关179号数据">3.2.&nbsp;推送海关179号数据</a></li></ul></li><li class="open"><a class="dd" href="#_1_4_电子口岸X509证书">4.&nbsp;电子口岸X509证书</a><ul class="sectlevel2"><li><a href="#_1_4_1_下载证书">4.1.&nbsp;下载证书</a></li></ul></li><li class="open"><a class="dd" href="#_1_5_电子口岸报文加签">5.&nbsp;电子口岸报文加签</a><ul class="sectlevel2"><li><a href="#_1_5_1_海关数据加签">5.1.&nbsp;海关数据加签</a></li></ul></li></ul></div></div><div id="content"><div id="preamble"><div class="sectionbody"><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 20%;"><col style="width: 20%;"><col style="width: 20%;"><col style="width: 20%;"><col style="width: 20%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Version</th><th class="tableblock halign-left valign-top">Update Time</th><th class="tableblock halign-left valign-top">Status</th><th class="tableblock halign-left valign-top">Author</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">1.0.0</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">2022-02-16 10:30</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">创建</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Weasley J</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">创建API文档</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">1.0.9</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">2023-06-11 15:36</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">编辑</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Weasley J</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">更新API文档</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">1.1.0</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">2023-07-15 15:36</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">编辑</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Weasley J</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">补充API文档</p></td></tr></tbody></table></div></div><div class="sect1"><h2 id="_1_1_电子口岸报文加签测试"><a class="anchor" href="#_1_1_电子口岸报文加签测试"></a><a class="link" href="#_1_1_电子口岸报文加签测试">1.&nbsp;电子口岸报文加签测试</a></h2><div class="sectionbody"><div class="sect2" id="405aab25cc77d66183c1c285626a34a0"><h3 id="_1_1_1_海关总署XML数据加签"><a class="anchor" href="#_1_1_1_海关总署XML数据加签"></a><a class="link" href="#_1_1_1_海关总署XML数据加签">1.1.&nbsp;海关总署XML数据加签</a></h3><div class="paragraph" id="405aab25cc77d66183c1c285626a34a0-url" data-url="http://localhost:8080/rpc/eport/test/cebmessage/signature" data-download="false" data-page=""><p><strong>URL:</strong><a href="http://localhost:8080/rpc/eport/test/cebmessage/signature"  class="bare">&nbsp;http://localhost:8080/rpc/eport/test/cebmessage/signature</a></p></div><div class="paragraph" id="405aab25cc77d66183c1c285626a34a0-method" data-method="GET"><p><strong>Type:</strong>&nbsp;GET</p></div><div class="paragraph"><p><strong>Author:</strong>&nbsp;lwj</p></div><div class="paragraph" id="405aab25cc77d66183c1c285626a34a0-content-type" data-content-type="application/x-www-form-urlencoded;charset=UTF-8"><p><strong>Content-Type:</strong>&nbsp;application/x-www-form-urlencoded;charset=UTF-8</p></div><div class="paragraph"><p><strong>Description:</strong>&nbsp;非正式调用API，只为了让你看到海关总署XML加密的数据返回格式</p></div><div class="paragraph"><p><strong>Request-headers:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 5%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" class="check-all" id="405aab25cc77d66183c1c285626a34a0-header-checkbox" name="405aab25cc77d66183c1c285626a34a0-header-checkbox" checked="checked"><label for="405aab25cc77d66183c1c285626a34a0-header-checkbox"></label></div></th><th class="tableblock halign-left valign-top">Header</th><th class="tableblock halign-left valign-top">Value</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody id="405aab25cc77d66183c1c285626a34a0-header"><tr><td class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" id="405aab25cc77d66183c1c285626a34a0-header-x-auth-token-eport-sign" name="405aab25cc77d66183c1c285626a34a0-header-checkbox" checked="checked"><label for="405aab25cc77d66183c1c285626a34a0-header-x-auth-token-eport-sign"></label></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">x-auth-token-eport-sign</p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><input name="x-auth-token-eport-sign" type="text" value="DefaultAuthToken"/></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">客户端加签时携带的请求头，token值必须和配置文件里面配置鉴权token相等</p></td></tr></tbody></table><div class="paragraph"><p><strong>Response-fields:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Field</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Since</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">返回消息</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">success</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">是否成功</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应时间戳</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">状态码</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应数据</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─success</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">本次加签是否成功</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─certNo</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">签名的ukey的卡序列号</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─x509Certificate</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">签名的ukey证书</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─digestValue</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">XML报文的数字摘要</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─signatureValue</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">调用ukey获取的签名值</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─signatureNode</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">XML报文的签名节点
<li>用来组装 ds:SignedInfo 节点</li></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr></tbody></table><div class="paragraph"><p><strong><button class="send-button" data-id="405aab25cc77d66183c1c285626a34a0">Send Request</button></strong><span id="405aab25cc77d66183c1c285626a34a0-resp-status"></span></p></div><div class="paragraph"><p><strong>Response-example:</strong></p></div><div class="listingblock"><div class="content" id="405aab25cc77d66183c1c285626a34a0-response"><pre><code class="json">{
  "message": "",
  "success": true,
  "timestamp": "",
  "code": 0,
  "data": {
    "success": true,
    "certNo": "",
    "x509Certificate": "",
    "digestValue": "",
    "signatureValue": "",
    "signatureNode": ""
  }
}</code></pre></div></div><div class="paragraph"><p><strong>Curl-example:</strong></p></div><div class="listingblock"><div class="content" id="405aab25cc77d66183c1c285626a34a0-curl"><pre><code class="bash">curl -X GET -H 'x-auth-token-eport-sign:DefaultAuthToken' -i http://localhost:8080/rpc/eport/test/cebmessage/signature</code></pre></div></div></div><div class="sect2" id="e29731d0cd66a865fea04b37523c975e"><h3 id="_1_1_2_海关179数据抓取加签"><a class="anchor" href="#_1_1_2_海关179数据抓取加签"></a><a class="link" href="#_1_1_2_海关179数据抓取加签">1.2.&nbsp;海关179数据抓取加签</a></h3><div class="paragraph" id="e29731d0cd66a865fea04b37523c975e-url" data-url="http://localhost:8080/rpc/eport/test/179/signature" data-download="false" data-page=""><p><strong>URL:</strong><a href="http://localhost:8080/rpc/eport/test/179/signature"  class="bare">&nbsp;http://localhost:8080/rpc/eport/test/179/signature</a></p></div><div class="paragraph" id="e29731d0cd66a865fea04b37523c975e-method" data-method="GET"><p><strong>Type:</strong>&nbsp;GET</p></div><div class="paragraph"><p><strong>Author:</strong>&nbsp;lwj</p></div><div class="paragraph" id="e29731d0cd66a865fea04b37523c975e-content-type" data-content-type="application/x-www-form-urlencoded;charset=UTF-8"><p><strong>Content-Type:</strong>&nbsp;application/x-www-form-urlencoded;charset=UTF-8</p></div><div class="paragraph"><p><strong>Description:</strong>&nbsp;非正式调用API，只为了让你看到179加密的数据返回格式</p></div><div class="paragraph"><p><strong>Request-headers:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 5%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" class="check-all" id="e29731d0cd66a865fea04b37523c975e-header-checkbox" name="e29731d0cd66a865fea04b37523c975e-header-checkbox" checked="checked"><label for="e29731d0cd66a865fea04b37523c975e-header-checkbox"></label></div></th><th class="tableblock halign-left valign-top">Header</th><th class="tableblock halign-left valign-top">Value</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody id="e29731d0cd66a865fea04b37523c975e-header"><tr><td class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" id="e29731d0cd66a865fea04b37523c975e-header-x-auth-token-eport-sign" name="e29731d0cd66a865fea04b37523c975e-header-checkbox" checked="checked"><label for="e29731d0cd66a865fea04b37523c975e-header-x-auth-token-eport-sign"></label></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">x-auth-token-eport-sign</p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><input name="x-auth-token-eport-sign" type="text" value="DefaultAuthToken"/></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">客户端加签时携带的请求头，token值必须和配置文件里面配置鉴权token相等</p></td></tr></tbody></table><div class="paragraph"><p><strong>Response-fields:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Field</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Since</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">返回消息</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">success</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">是否成功</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应时间戳</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">状态码</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应数据</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─success</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">本次加签是否成功</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─certNo</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">签名的ukey的卡序列号</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─x509Certificate</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">签名的ukey证书</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─digestValue</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">XML报文的数字摘要</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─signatureValue</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">调用ukey获取的签名值</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─signatureNode</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">XML报文的签名节点
<li>用来组装 ds:SignedInfo 节点</li></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr></tbody></table><div class="paragraph"><p><strong><button class="send-button" data-id="e29731d0cd66a865fea04b37523c975e">Send Request</button></strong><span id="e29731d0cd66a865fea04b37523c975e-resp-status"></span></p></div><div class="paragraph"><p><strong>Response-example:</strong></p></div><div class="listingblock"><div class="content" id="e29731d0cd66a865fea04b37523c975e-response"><pre><code class="json">{
  "message": "",
  "success": true,
  "timestamp": "",
  "code": 0,
  "data": {
    "success": true,
    "certNo": "",
    "x509Certificate": "",
    "digestValue": "",
    "signatureValue": "",
    "signatureNode": ""
  }
}</code></pre></div></div><div class="paragraph"><p><strong>Curl-example:</strong></p></div><div class="listingblock"><div class="content" id="e29731d0cd66a865fea04b37523c975e-curl"><pre><code class="bash">curl -X GET -H 'x-auth-token-eport-sign:DefaultAuthToken' -i http://localhost:8080/rpc/eport/test/179/signature</code></pre></div></div></div><div class="sect2" id="00ff833036628b13d1bda9a319240ae4"><h3 id="_1_1_3_执行脚本命令"><a class="anchor" href="#_1_1_3_执行脚本命令"></a><a class="link" href="#_1_1_3_执行脚本命令">1.3.&nbsp;执行脚本命令</a></h3><div class="paragraph" id="00ff833036628b13d1bda9a319240ae4-url" data-url="http://localhost:8080/rpc/eport/test/endpoint/exec" data-download="false" data-page=""><p><strong>URL:</strong><a href="http://localhost:8080/rpc/eport/test/endpoint/exec"  class="bare">&nbsp;http://localhost:8080/rpc/eport/test/endpoint/exec</a></p></div><div class="paragraph" id="00ff833036628b13d1bda9a319240ae4-method" data-method="GET"><p><strong>Type:</strong>&nbsp;GET</p></div><div class="paragraph"><p><strong>Author:</strong>&nbsp;lwj</p></div><div class="paragraph" id="00ff833036628b13d1bda9a319240ae4-content-type" data-content-type="application/x-www-form-urlencoded;charset=UTF-8"><p><strong>Content-Type:</strong>&nbsp;application/x-www-form-urlencoded;charset=UTF-8</p></div><div class="paragraph"><p><strong>Description:</strong>&nbsp;此接口测试环境、生产环境不对外开放，会在将终端输出同步写给浏览器</p></div><div class="paragraph"><p><strong>Request-headers:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 5%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" class="check-all" id="00ff833036628b13d1bda9a319240ae4-header-checkbox" name="00ff833036628b13d1bda9a319240ae4-header-checkbox" checked="checked"><label for="00ff833036628b13d1bda9a319240ae4-header-checkbox"></label></div></th><th class="tableblock halign-left valign-top">Header</th><th class="tableblock halign-left valign-top">Value</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody id="00ff833036628b13d1bda9a319240ae4-header"><tr><td class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" id="00ff833036628b13d1bda9a319240ae4-header-x-auth-token-eport-sign" name="00ff833036628b13d1bda9a319240ae4-header-checkbox" checked="checked"><label for="00ff833036628b13d1bda9a319240ae4-header-x-auth-token-eport-sign"></label></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">x-auth-token-eport-sign</p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><input name="x-auth-token-eport-sign" type="text" value="DefaultAuthToken"/></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">客户端加签时携带的请求头，token值必须和配置文件里面配置鉴权token相等</p></td></tr></tbody></table><div class="paragraph"><p><strong>Query-parameters:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 5%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><div class='checkbox'><input type="checkbox" class="check-all" id="00ff833036628b13d1bda9a319240ae4-query-checkbox" checked="checked" name="00ff833036628b13d1bda9a319240ae4-query-checkbox"><label for="00ff833036628b13d1bda9a319240ae4-query-checkbox"></label></div></th><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Value</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody id="00ff833036628b13d1bda9a319240ae4-query-params"><tr><td class="tableblock halign-left valign-top"><div class='checkbox'><input type="checkbox" id="00ff833036628b13d1bda9a319240ae4-query-cmd" checked="checked" name="00ff833036628b13d1bda9a319240ae4-query-checkbox"><label for="00ff833036628b13d1bda9a319240ae4-query-cmd"></label></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">cmd</p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><input name="cmd" type="text" value=""/></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td></tr></tbody></table><div class="paragraph"><p><strong><button class="send-button" data-id="00ff833036628b13d1bda9a319240ae4">Send Request</button></strong><span id="00ff833036628b13d1bda9a319240ae4-resp-status"></span></p></div><div class="paragraph"><p><strong>Response-example:</strong></p></div><div class="listingblock"><div class="content" id="00ff833036628b13d1bda9a319240ae4-response"><pre><code class="json">Return void.</code></pre></div></div><div class="paragraph"><p><strong>Curl-example:</strong></p></div><div class="listingblock"><div class="content" id="00ff833036628b13d1bda9a319240ae4-curl"><pre><code class="bash">curl -X GET -H 'x-auth-token-eport-sign:DefaultAuthToken' -i http://localhost:8080/rpc/eport/test/endpoint/exec?cmd=</code></pre></div></div></div></div></div><div class="sect1"><h2 id="_1_2_Ukey健康状态恢复"><a class="anchor" href="#_1_2_Ukey健康状态恢复"></a><a class="link" href="#_1_2_Ukey健康状态恢复">2.&nbsp;Ukey健康状态恢复</a></h2><div class="sectionbody"><div class="sect2" id="e358d2bf8b2bcede19528bb95c27c76c"><h3 id="_1_2_1_ukey健康指令"><a class="anchor" href="#_1_2_1_ukey健康指令"></a><a class="link" href="#_1_2_1_ukey健康指令">2.1.&nbsp;ukey健康指令</a></h3><div class="paragraph" id="e358d2bf8b2bcede19528bb95c27c76c-url" data-url="http://localhost:8080/rpc/eport/ukey/health/endpoint/{command}" data-download="false" data-page=""><p><strong>URL:</strong><a href="http://localhost:8080/rpc/eport/ukey/health/endpoint/{command}"  class="bare">&nbsp;http://localhost:8080/rpc/eport/ukey/health/endpoint/{command}</a></p></div><div class="paragraph" id="e358d2bf8b2bcede19528bb95c27c76c-method" data-method="POST"><p><strong>Type:</strong>&nbsp;POST</p></div><div class="paragraph"><p><strong>Author:</strong>&nbsp;lwj</p></div><div class="paragraph" id="e358d2bf8b2bcede19528bb95c27c76c-content-type" data-content-type="application/x-www-form-urlencoded;charset=UTF-8"><p><strong>Content-Type:</strong>&nbsp;application/x-www-form-urlencoded;charset=UTF-8</p></div><div class="paragraph"><p><strong>Description:</strong>&nbsp;&lt;ul&gt;<br>支持command类型<br>&lt;li&gt;RESTART: 重启控件(较多使用)&lt;/li&gt;<br>&lt;li&gt;START: 启动控件&lt;/li&gt;<br>&lt;li&gt;STOP: 停止控件&lt;/li&gt;<br>&lt;li&gt;REPAIR: 修复证书&lt;/li&gt;<br>&lt;/ul&gt;</p></div><div class="paragraph"><p><strong>Request-headers:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 5%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" class="check-all" id="e358d2bf8b2bcede19528bb95c27c76c-header-checkbox" name="e358d2bf8b2bcede19528bb95c27c76c-header-checkbox" checked="checked"><label for="e358d2bf8b2bcede19528bb95c27c76c-header-checkbox"></label></div></th><th class="tableblock halign-left valign-top">Header</th><th class="tableblock halign-left valign-top">Value</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody id="e358d2bf8b2bcede19528bb95c27c76c-header"><tr><td class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" id="e358d2bf8b2bcede19528bb95c27c76c-header-x-auth-token-eport-sign" name="e358d2bf8b2bcede19528bb95c27c76c-header-checkbox" checked="checked"><label for="e358d2bf8b2bcede19528bb95c27c76c-header-x-auth-token-eport-sign"></label></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">x-auth-token-eport-sign</p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><input name="x-auth-token-eport-sign" type="text" value="DefaultAuthToken"/></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">客户端加签时携带的请求头，token值必须和配置文件里面配置鉴权token相等</p></td></tr></tbody></table><div class="paragraph"><p><strong>Response-fields:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Field</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Since</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">返回消息</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">success</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">是否成功</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应时间戳</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">状态码</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应数据</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─stdOutList</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">array</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">标准输出流信息</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─errorOutList</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">array</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">错误输出流信息</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr></tbody></table><div class="paragraph"><p><strong><button class="send-button" data-id="e358d2bf8b2bcede19528bb95c27c76c">Send Request</button></strong><span id="e358d2bf8b2bcede19528bb95c27c76c-resp-status"></span></p></div><div class="paragraph"><p><strong>Response-example:</strong></p></div><div class="listingblock"><div class="content" id="e358d2bf8b2bcede19528bb95c27c76c-response"><pre><code class="json">{
  "message": "",
  "success": true,
  "timestamp": "",
  "code": 0,
  "data": {
    "stdOutList": [
      ""
    ],
    "errorOutList": [
      ""
    ]
  }
}</code></pre></div></div><div class="paragraph"><p><strong>Curl-example:</strong></p></div><div class="listingblock"><div class="content" id="e358d2bf8b2bcede19528bb95c27c76c-curl"><pre><code class="bash">curl -X POST -H 'x-auth-token-eport-sign:DefaultAuthToken' -i http://localhost:8080/rpc/eport/ukey/health/endpoint/{command}</code></pre></div></div></div></div></div><div class="sect1"><h2 id="_1_3_电子口岸报文推送"><a class="anchor" href="#_1_3_电子口岸报文推送"></a><a class="link" href="#_1_3_电子口岸报文推送">3.&nbsp;电子口岸报文推送</a></h2><div class="sectionbody"><div class="sect2" id="1144247f9538ebd06f8f912780edee4f"><h3 id="_1_3_1_推送CEBMessage报文"><a class="anchor" href="#_1_3_1_推送CEBMessage报文"></a><a class="link" href="#_1_3_1_推送CEBMessage报文">3.1.&nbsp;推送CEBMessage报文</a></h3><div class="paragraph" id="1144247f9538ebd06f8f912780edee4f-url" data-url="http://localhost:8080/rpc/eport/upload/CEBMessage" data-download="false" data-page=""><p><strong>URL:</strong><a href="http://localhost:8080/rpc/eport/upload/CEBMessage"  class="bare">&nbsp;http://localhost:8080/rpc/eport/upload/CEBMessage</a></p></div><div class="paragraph" id="1144247f9538ebd06f8f912780edee4f-method" data-method="POST"><p><strong>Type:</strong>&nbsp;POST</p></div><div class="paragraph"><p><strong>Author:</strong>&nbsp;weasley</p></div><div class="paragraph" id="1144247f9538ebd06f8f912780edee4f-content-type" data-content-type="application/json"><p><strong>Content-Type:</strong>&nbsp;application/json</p></div><div class="paragraph"><p><strong>Description:</strong>&nbsp;&lt;ul&gt;<br>&lt;b&gt;支持JSON报文和XML报文&lt;/b&gt;<br>&lt;li&gt;JSON报文: 无需组装XML结构报文&lt;/li&gt;<br>&lt;li&gt;XML报文: 需组装XML结构的报文&lt;/li&gt;<br>&lt;/ul&gt;</p></div><div class="paragraph"><p><strong>Request-headers:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 5%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" class="check-all" id="1144247f9538ebd06f8f912780edee4f-header-checkbox" name="1144247f9538ebd06f8f912780edee4f-header-checkbox" checked="checked"><label for="1144247f9538ebd06f8f912780edee4f-header-checkbox"></label></div></th><th class="tableblock halign-left valign-top">Header</th><th class="tableblock halign-left valign-top">Value</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody id="1144247f9538ebd06f8f912780edee4f-header"><tr><td class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" id="1144247f9538ebd06f8f912780edee4f-header-x-auth-token-eport-sign" name="1144247f9538ebd06f8f912780edee4f-header-checkbox" checked="checked"><label for="1144247f9538ebd06f8f912780edee4f-header-x-auth-token-eport-sign"></label></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">x-auth-token-eport-sign</p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><input name="x-auth-token-eport-sign" type="text" value="DefaultAuthToken"/></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">客户端加签时携带的请求头，token值必须和配置文件里面配置鉴权token相等</p></td></tr></tbody></table><div class="paragraph"><p><strong>Body-parameters:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 20%;"><col style="width: 20%;"><col style="width: 20%;"><col style="width: 20%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">messageType</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">enum</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">消息类型<br/>[Enum values:<br/>CEB311Message("CEB311Message")<br/>CEB621Message("CEB621Message")<br/>]</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">dataType</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">enum</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">报文的数据类型<br/>[Enum values:<br/>JSON()<br/>XML()<br/>]</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">cebMessage</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">进口单、出口单的底层数据模型
<ul>
以CEB311Message数据类型为例
<li>
<p>JSON示例</p>
<pre><code>
{"order":{"orderHead":{"guid":"AFNC7T-WEASLEY-20230713095517-N04JEE","appType":"1","appTime":"20230704181028","appStatus":"2","orderType":"I","orderNo":"T_C5051511332138160010","ebpCode":"4601630004","ebpName":"海南省荣誉进出口贸易有限公司","ebcCode":"4601630004","ebcName":"海南省荣誉进出口贸易有限公司","goodsValue":"0.01","freight":"0","discount":"0","taxTotal":"0","acturalPaid":"0.01","currency":"142","buyerRegNo":"4","buyerName":"袁晓雨","buyerTelephone":"13701727375","buyerIdType":"1","buyerIdNumber":"130435200009241538","consignee":"袁晓雨","consigneeTelephone":"13701727375","consigneeAddress":"北京北京市东城区","note":"test"},"orderList":[{"gnum":1,"itemNo":"1","itemName":"LANNA兰纳","gmodel":"10片/包","itemDescribe":"","barCode":"1","unit":"011","qty":"1","price":"1","totalPrice":"1","currency":"142","country":"136","note":"test"}]},"guid":"AFNC7T-WEASLEY-20230713095517-N04JEE","version":"1.0","baseTransfer":{"copCode":"4601630004","copName":"海南省荣誉进出口贸易有限公司","dxpMode":"DXP","dxpId":"DXPENT0000530815","note":"test"}}
</code></pre>
</li>
<li>
<p>XML示例: 不带ds:Signature节点的CEBXxxMessage.xml原文;<a href='http://tool.qdhuaxun.cn/ceb/CEB311Message.xml'>待加签xml报文样例</a></p>
</li>
</ul></p></td></tr></tbody></table><div class="paragraph"><p><strong>Request-body:</strong></p></div><div class="listingblock"><div class="content"><pre><code contenteditable="plaintext-only" id="1144247f9538ebd06f8f912780edee4f-body">{
  "messageType": "CEB311Message",
  "dataType": "JSON",
  "cebMessage": {
    "object": "any object"
  }
}</code></pre></div></div><div class="paragraph"><p><strong>Response-fields:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Field</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Since</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">返回消息</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">success</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">是否成功</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应时间戳</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">状态码</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应数据</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─payload</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">请求数据载荷</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─Message</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─MessageHead</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─MessageId</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─MessageType</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─SenderID</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─ReceiverID</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─SendTime</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─Version</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─MessageBody</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─data</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─original</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">三方原始返回</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─expected</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">三方期望返回</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr></tbody></table><div class="paragraph"><p><strong><button class="send-button" data-id="1144247f9538ebd06f8f912780edee4f">Send Request</button></strong><span id="1144247f9538ebd06f8f912780edee4f-resp-status"></span></p></div><div class="paragraph"><p><strong>Response-example:</strong></p></div><div class="listingblock"><div class="content" id="1144247f9538ebd06f8f912780edee4f-response"><pre><code class="json">{
  "message": "",
  "success": true,
  "timestamp": "",
  "code": 0,
  "data": {
    "payload": {
      "Message": {
        "MessageHead": {
          "MessageId": "",
          "MessageType": "",
          "SenderID": "",
          "ReceiverID": "",
          "SendTime": "",
          "Version": ""
        },
        "MessageBody": {
          "data": ""
        }
      }
    },
    "original": "",
    "expected": ""
  }
}</code></pre></div></div><div class="paragraph"><p><strong>Curl-example:</strong></p></div><div class="listingblock"><div class="content" id="1144247f9538ebd06f8f912780edee4f-curl"><pre><code class="bash">curl -X POST -H 'Content-Type: application/json' -H 'x-auth-token-eport-sign:DefaultAuthToken' -i http://localhost:8080/rpc/eport/upload/CEBMessage --data '{
  "messageType": "CEB311Message",
  "dataType": "JSON",
  "cebMessage": {
    "object": "any object"
  }
}'</code></pre></div></div></div><div class="sect2" id="f7c7d8e17f072ef7e2041bf6a3a5f8cb"><h3 id="_1_3_2_推送海关179号数据"><a class="anchor" href="#_1_3_2_推送海关179号数据"></a><a class="link" href="#_1_3_2_推送海关179号数据">3.2.&nbsp;推送海关179号数据</a></h3><div class="paragraph" id="f7c7d8e17f072ef7e2041bf6a3a5f8cb-url" data-url="http://localhost:8080/rpc/eport/upload/179/data" data-download="false" data-page=""><p><strong>URL:</strong><a href="http://localhost:8080/rpc/eport/upload/179/data"  class="bare">&nbsp;http://localhost:8080/rpc/eport/upload/179/data</a></p></div><div class="paragraph" id="f7c7d8e17f072ef7e2041bf6a3a5f8cb-method" data-method="POST"><p><strong>Type:</strong>&nbsp;POST</p></div><div class="paragraph"><p><strong>Author:</strong>&nbsp;weasley</p></div><div class="paragraph" id="f7c7d8e17f072ef7e2041bf6a3a5f8cb-content-type" data-content-type="application/json"><p><strong>Content-Type:</strong>&nbsp;application/json</p></div><div class="paragraph"><p><strong>Description:</strong>&nbsp;&lt;ul&gt;<br>JSON示例:<br>&lt;pre&gt;<br>{<br>  &quot;sessionID&quot;: &quot;032C3F56-0EE6-4558-B548-6C7A3451F07D&quot;,<br>  &quot;payExchangeInfoHead&quot;: {<br>    &quot;guid&quot;: &quot;E4766021-21AC-1AA2-21DD-E974DF93C11D&quot;,<br>    &quot;initalRequest&quot;: &quot;&lt;xml&gt;&lt;appid&gt;&lt;![CDATA[xwxwxwxwx112121]]&gt;&lt;/appid&gt;&lt;mch_id&gt;11111111&lt;/mch_id&gt;&lt;body&gt;&lt;![CDATA[测试测试]]&gt;&lt;/body&gt;&lt;nonce_str&gt;&lt;![CDATA[ashdgahgdhaghgliqwueyqu1]]&gt;&lt;/nonce_str&gt;&lt;out_trade_no&gt;202009231454212140210352&lt;/out_trade_no&gt;&lt;total_fee&gt;500&lt;/total_fee&gt;&lt;spbill_create_ip&gt;&lt;![CDATA[192.168.0.1]]&gt;&lt;/spbill_create_ip&gt;&lt;notify_url&gt;&lt;![CDATA[https://www.baidu.com]]&gt;&lt;/notify_url&gt;&lt;openid&gt;&lt;![CDATA[adasyduiyasdhjxzycua-Q]]&gt;&lt;/openid&gt;&lt;trade_type&gt;&lt;![CDATA[JSAPI]]&gt;&lt;/trade_type&gt;&lt;sign&gt;&lt;![CDATA[asd1sa56d4545wqe44wq5]]&gt;&lt;/sign&gt;&lt;/xml&gt;&quot;,<br>    &quot;initalResponse&quot;: &quot;&lt;xml&gt;&lt;appid&gt;&lt;![CDATA[xwxwxwxwx112121]]&gt;&lt;/appid&gt;&lt;bank_type&gt;&lt;![CDATA[OTHERS]]&gt;&lt;/bank_type&gt;&lt;cash_fee&gt;500&lt;/cash_fee&gt;&lt;fee_type&gt;&lt;![CDATA[CNY]]&gt;&lt;/fee_type&gt;&lt;is_subscribe&gt;&lt;![CDATA[N]]&gt;&lt;/is_subscribe&gt;&lt;mch_id&gt;11111111&lt;/mch_id&gt;&lt;nonce_str&gt;&lt;![CDATA[ashdgahgdhaghgliqwueyqu1]]&gt;&lt;/nonce_str&gt;&lt;openid&gt;&lt;![CDATA[adasyduiyasdhjxzycua-Q]]&gt;&lt;/openid&gt;&lt;out_trade_no&gt;202009231454212140210352&lt;/out_trade_no&gt;&lt;result_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/result_code&gt;&lt;return_code&gt;&lt;![CDATA[SUCCESS]]&gt;&lt;/return_code&gt;&lt;sign&gt;&lt;![CDATA[asgdhasgdhasgdhgasgdhasgdh]]&gt;&lt;/sign&gt;&lt;time_end&gt;20200923145426&lt;/time_end&gt;&lt;total_fee&gt;500&lt;/total_fee&gt;&lt;trade_type&gt;&lt;![CDATA[JSAPI]]&gt;&lt;/trade_type&gt;&lt;transaction_id&gt;4200000681202009235085032319&lt;/transaction_id&gt;&lt;/xml&gt;&quot;,<br>    &quot;ebpCode&quot;: &quot;请替换&quot;,<br>    &quot;payCode&quot;: &quot;4403169D3W&quot;,<br>    &quot;payTransactionId&quot;: &quot;4200000681202009235085032319&quot;,<br>    &quot;totalAmount&quot;: 5,<br>    &quot;currency&quot;: &quot;142&quot;,<br>    &quot;verDept&quot;: &quot;3&quot;,<br>    &quot;payType&quot;: &quot;4&quot;,<br>    &quot;tradingTime&quot;: &quot;20200923145426&quot;,<br>    &quot;note&quot;: &quot;&quot;<br>  },<br>  &quot;payExchangeInfoLists&quot;: [<br>    {<br>      &quot;orderNo&quot;: &quot;202009231454218421271832&quot;,<br>      &quot;goodsInfo&quot;: [<br>        {<br>          &quot;gname&quot;: &quot;济州花梨精华面膜&quot;,<br>          &quot;itemLink&quot;: &quot;http://m.yunjiweidian.com/yunjibuyer/static/vue-buyer/idc/index.html#/detail?itemId=999761&amp;shopId=453&quot;<br>        }<br>      ],<br>      &quot;recpAccount&quot;: &quot;请替换&quot;,<br>      &quot;recpCode&quot;: &quot;请替换&quot;,<br>      &quot;recpName&quot;: &quot;请替换&quot;<br>    }<br>  ],<br>  &quot;serviceTime&quot;: &quot;1601282210417&quot;<br>}<br>&lt;/pre&gt;<br>&lt;/ul&gt;</p></div><div class="paragraph"><p><strong>Request-headers:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 5%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" class="check-all" id="f7c7d8e17f072ef7e2041bf6a3a5f8cb-header-checkbox" name="f7c7d8e17f072ef7e2041bf6a3a5f8cb-header-checkbox" checked="checked"><label for="f7c7d8e17f072ef7e2041bf6a3a5f8cb-header-checkbox"></label></div></th><th class="tableblock halign-left valign-top">Header</th><th class="tableblock halign-left valign-top">Value</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody id="f7c7d8e17f072ef7e2041bf6a3a5f8cb-header"><tr><td class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" id="f7c7d8e17f072ef7e2041bf6a3a5f8cb-header-x-auth-token-eport-sign" name="f7c7d8e17f072ef7e2041bf6a3a5f8cb-header-checkbox" checked="checked"><label for="f7c7d8e17f072ef7e2041bf6a3a5f8cb-header-x-auth-token-eport-sign"></label></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">x-auth-token-eport-sign</p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><input name="x-auth-token-eport-sign" type="text" value="DefaultAuthToken"/></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">客户端加签时携带的请求头，token值必须和配置文件里面配置鉴权token相等</p></td></tr></tbody></table><div class="paragraph"><p><strong>Body-parameters:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 20%;"><col style="width: 20%;"><col style="width: 20%;"><col style="width: 20%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">sessionID</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">海关发起请求时，平台接收的会话ID</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">payExchangeInfoHead</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">支付原始数据表头</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─guid</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">系统唯一序号</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─initalRequest</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">原始请求</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─initalResponse</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">原始响应</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─ebpCode</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">电商平台代码</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─payCode</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">支付企业代码</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─payTransactionId</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">交易流水号(支付报关时会有返回)
微信对应的字段是:verify_department_trade_id
支付宝对应的字段是:pay_transaction_id</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─totalAmount</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">交易金额</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─currency</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">币制(币制编码:142(人民币))</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─verDept</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">验核机构(支付报关结果会返回),1-银联 2-网联 3-其他
微信返回的字段是:verify_department
支付宝对应的字段是:ver_dept</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─payType</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">支付类型</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─tradingTime</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">交易成功时间</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─note</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">备注</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">payExchangeInfoLists</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">array</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">支付原始数据表体</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─orderNo</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">订单编号</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─goodsInfo</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">array</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">商品信息</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─gname</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">商品名称</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─itemLink</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">商品展示链接地址</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─recpAccount</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">收款账号</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─recpCode</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">收款企业代码</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─recpName</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">收款企业名称</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">serviceTime</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">返回时的系统时间</p></td></tr></tbody></table><div class="paragraph"><p><strong>Request-body:</strong></p></div><div class="listingblock"><div class="content"><pre><code contenteditable="plaintext-only" id="f7c7d8e17f072ef7e2041bf6a3a5f8cb-body">{
  "sessionID": "",
  "payExchangeInfoHead": {
    "guid": "",
    "initalRequest": "",
    "initalResponse": "",
    "ebpCode": "",
    "payCode": "",
    "payTransactionId": "",
    "totalAmount": 0.0,
    "currency": "",
    "verDept": "",
    "payType": "",
    "tradingTime": "",
    "note": ""
  },
  "payExchangeInfoLists": [
    {
      "orderNo": "",
      "goodsInfo": [
        {
          "gname": "",
          "itemLink": ""
        }
      ],
      "recpAccount": "",
      "recpCode": "",
      "recpName": ""
    }
  ],
  "serviceTime": ""
}</code></pre></div></div><div class="paragraph"><p><strong>Response-fields:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Field</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Since</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">返回消息</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">success</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">是否成功</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应时间戳</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">状态码</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应数据</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─payload</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">请求数据载荷</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─mapKey</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">A map key.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─any object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">any object.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─original</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">三方原始返回</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─expected</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">三方期望返回</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─code</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─total</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">int64</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─message</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└─serviceTime</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">int64</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">No comments found.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr></tbody></table><div class="paragraph"><p><strong><button class="send-button" data-id="f7c7d8e17f072ef7e2041bf6a3a5f8cb">Send Request</button></strong><span id="f7c7d8e17f072ef7e2041bf6a3a5f8cb-resp-status"></span></p></div><div class="paragraph"><p><strong>Response-example:</strong></p></div><div class="listingblock"><div class="content" id="f7c7d8e17f072ef7e2041bf6a3a5f8cb-response"><pre><code class="json">{
  "message": "",
  "success": true,
  "timestamp": "",
  "code": 0,
  "data": {
    "payload": {
      "mapKey": {
        "waring": "You may use java.util.Object for Map value; smart-doc can't be handle."
      }
    },
    "original": "",
    "expected": {
      "code": "",
      "total": 0,
      "message": "",
      "serviceTime": 0
    }
  }
}</code></pre></div></div><div class="paragraph"><p><strong>Curl-example:</strong></p></div><div class="listingblock"><div class="content" id="f7c7d8e17f072ef7e2041bf6a3a5f8cb-curl"><pre><code class="bash">curl -X POST -H 'Content-Type: application/json' -H 'x-auth-token-eport-sign:DefaultAuthToken' -i http://localhost:8080/rpc/eport/upload/179/data --data '{
  "sessionID": "",
  "payExchangeInfoHead": {
    "guid": "",
    "initalRequest": "",
    "initalResponse": "",
    "ebpCode": "",
    "payCode": "",
    "payTransactionId": "",
    "totalAmount": 0.0,
    "currency": "",
    "verDept": "",
    "payType": "",
    "tradingTime": "",
    "note": ""
  },
  "payExchangeInfoLists": [
    {
      "orderNo": "",
      "goodsInfo": [
        {
          "gname": "",
          "itemLink": ""
        }
      ],
      "recpAccount": "",
      "recpCode": "",
      "recpName": ""
    }
  ],
  "serviceTime": ""
}'</code></pre></div></div></div></div></div><div class="sect1"><h2 id="_1_4_电子口岸X509证书"><a class="anchor" href="#_1_4_电子口岸X509证书"></a><a class="link" href="#_1_4_电子口岸X509证书">4.&nbsp;电子口岸X509证书</a></h2><div class="sectionbody"><div class="sect2" id="ee7bd34b1b5da598e0d5c1a289a93a64"><h3 id="_1_4_1_下载证书"><a class="anchor" href="#_1_4_1_下载证书"></a><a class="link" href="#_1_4_1_下载证书">4.1.&nbsp;下载证书</a></h3><div class="paragraph" id="ee7bd34b1b5da598e0d5c1a289a93a64-url" data-url="http://localhost:8080/rpc/eport/cert/download" data-download="true" data-page=""><p><strong>URL:</strong><a href="http://localhost:8080/rpc/eport/cert/download"  class="bare">&nbsp;http://localhost:8080/rpc/eport/cert/download</a></p></div><div class="paragraph" id="ee7bd34b1b5da598e0d5c1a289a93a64-method" data-method="GET"><p><strong>Type:</strong>&nbsp;GET</p></div><div class="paragraph"><p><strong>Author:</strong>&nbsp;lwj</p></div><div class="paragraph" id="ee7bd34b1b5da598e0d5c1a289a93a64-content-type" data-content-type="application/x-www-form-urlencoded;charset=UTF-8"><p><strong>Content-Type:</strong>&nbsp;application/x-www-form-urlencoded;charset=UTF-8</p></div><div class="paragraph"><p><strong>Description:</strong>&nbsp;证书文件格式: 证书编号.cer, 遇到项目启动的首页下载证书出现文件名为 unknown.cer 的情况将下载链接复制到浏览器中打开</p></div><div class="paragraph"><p><strong>Request-headers:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 5%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" class="check-all" id="ee7bd34b1b5da598e0d5c1a289a93a64-header-checkbox" name="ee7bd34b1b5da598e0d5c1a289a93a64-header-checkbox" checked="checked"><label for="ee7bd34b1b5da598e0d5c1a289a93a64-header-checkbox"></label></div></th><th class="tableblock halign-left valign-top">Header</th><th class="tableblock halign-left valign-top">Value</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody id="ee7bd34b1b5da598e0d5c1a289a93a64-header"><tr><td class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" id="ee7bd34b1b5da598e0d5c1a289a93a64-header-x-auth-token-eport-sign" name="ee7bd34b1b5da598e0d5c1a289a93a64-header-checkbox" checked="checked"><label for="ee7bd34b1b5da598e0d5c1a289a93a64-header-x-auth-token-eport-sign"></label></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">x-auth-token-eport-sign</p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><input name="x-auth-token-eport-sign" type="text" value="DefaultAuthToken"/></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">客户端加签时携带的请求头，token值必须和配置文件里面配置鉴权token相等</p></td></tr></tbody></table><div class="paragraph"><p><strong><button class="send-button" data-id="ee7bd34b1b5da598e0d5c1a289a93a64">Send Request</button></strong><span id="ee7bd34b1b5da598e0d5c1a289a93a64-resp-status"></span></p></div><div class="paragraph"><p><strong>Response-example:</strong></p></div><div class="listingblock"><div class="content" id="ee7bd34b1b5da598e0d5c1a289a93a64-response"><pre><code class="json">Return void.</code></pre></div></div><div class="paragraph"><p><strong>Curl-example:</strong></p></div><div class="listingblock"><div class="content" id="ee7bd34b1b5da598e0d5c1a289a93a64-curl"><pre><code class="bash">curl -X GET -H 'x-auth-token-eport-sign:DefaultAuthToken' -i http://localhost:8080/rpc/eport/cert/download</code></pre></div></div></div></div></div><div class="sect1"><h2 id="_1_5_电子口岸报文加签"><a class="anchor" href="#_1_5_电子口岸报文加签"></a><a class="link" href="#_1_5_电子口岸报文加签">5.&nbsp;电子口岸报文加签</a></h2><div class="sectionbody"><div class="sect2" id="7315e0cf26dcb75932d3fa2a746b84b7"><h3 id="_1_5_1_海关数据加签"><a class="anchor" href="#_1_5_1_海关数据加签"></a><a class="link" href="#_1_5_1_海关数据加签">5.1.&nbsp;海关数据加签</a></h3><div class="paragraph" id="7315e0cf26dcb75932d3fa2a746b84b7-url" data-url="http://localhost:8080/rpc/eport/signature" data-download="false" data-page=""><p><strong>URL:</strong><a href="http://localhost:8080/rpc/eport/signature"  class="bare">&nbsp;http://localhost:8080/rpc/eport/signature</a></p></div><div class="paragraph" id="7315e0cf26dcb75932d3fa2a746b84b7-method" data-method="POST"><p><strong>Type:</strong>&nbsp;POST</p></div><div class="paragraph"><p><strong>Author:</strong>&nbsp;lwj</p></div><div class="paragraph" id="7315e0cf26dcb75932d3fa2a746b84b7-content-type" data-content-type="application/json"><p><strong>Content-Type:</strong>&nbsp;application/json</p></div><div class="paragraph"><p><strong>Description:</strong>&nbsp;此接口已经整合&quot;海关总署XML&quot;和&quot;海关179数据抓取&quot;的加签&lt;br/&gt;<br>&lt;ul&gt;&lt;b&gt;支持的加签类型&lt;/b&gt;&lt;li&gt;1. 海关CEBXxxMessage XML数据加签&lt;/li&gt;&lt;li&gt;2. 海关179数据加签&lt;/li&gt;&lt;/ul&gt;</p></div><div class="paragraph"><p><strong>Request-headers:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 5%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"><col style="width: 19%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" class="check-all" id="7315e0cf26dcb75932d3fa2a746b84b7-header-checkbox" name="7315e0cf26dcb75932d3fa2a746b84b7-header-checkbox" checked="checked"><label for="7315e0cf26dcb75932d3fa2a746b84b7-header-checkbox"></label></div></th><th class="tableblock halign-left valign-top">Header</th><th class="tableblock halign-left valign-top">Value</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody id="7315e0cf26dcb75932d3fa2a746b84b7-header"><tr><td class="tableblock halign-left valign-top"><div class="checkbox"><input type="checkbox" id="7315e0cf26dcb75932d3fa2a746b84b7-header-x-auth-token-eport-sign" name="7315e0cf26dcb75932d3fa2a746b84b7-header-checkbox" checked="checked"><label for="7315e0cf26dcb75932d3fa2a746b84b7-header-x-auth-token-eport-sign"></label></div></td><td class="tableblock halign-left valign-top"><p class="tableblock">x-auth-token-eport-sign</p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><input name="x-auth-token-eport-sign" type="text" value="DefaultAuthToken"/></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">客户端加签时携带的请求头，token值必须和配置文件里面配置鉴权token相等</p></td></tr></tbody></table><div class="paragraph"><p><strong>Body-parameters:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 20%;"><col style="width: 20%;"><col style="width: 20%;"><col style="width: 20%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Required</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">唯一id, 用来区分是哪一次发送的消息，默认值=1，从1开始，{@code int} 最大, 2<sup>31</sup>-1.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">加签源数据
<ul>
    <b>支持的加签数据类型</b>
    <li>1. 不带ds:Signature节点的CEBXxxMessage.xml原文;<a href='http://tool.qdhuaxun.cn/ceb/CEB311Message.xml'>待加签xml报文样例</a></li>
    <li>2. 海关179加签数据; 数据格式请传符合「海关179数据规范」的标准字符串,入参示例:
     <code><pre>"sessionID":"ad2254-8hewyf32-55616249"||"payExchangeInfoHead":"{"guid":"9D55BA71-22DE-41F4-8B50-C36C83B3B530","initalRequest":"原始请求","initalResponse":"ok","ebpCode":"4404840022","payCode":"312226T001","payTransactionId":"2018121222001354081010726129","totalAmount":100,"currency":"142","verDept":"3","payType":"1","tradingTime":"20181212041803","note":"批量订单，测试订单优化,生成多个so订单"}"||"payExchangeInfoLists":"[{"orderNo":"SO1710301150602574003","goodsInfo":[{"gname":"lhy-gnsku3","itemLink":"http://m.yunjiweidian.com/yunjibuyer/static/vue-buyer/idc/index.html#/detail?itemId=999761&shopId=453"},{"gname":"lhy-gnsku2","itemLink":"http://m.yunjiweidian.com/yunjibuyer/static/vue-buyer/idc/index.html#/detail?itemId=999760&shopId=453"}],"recpAccount":"OSA571908863132601","recpCode":"","recpName":"YUNJIHONGKONGLIMITED"}]"||"serviceTime":"1544519952469"</pre></code>
    </li>
</ul></p></td></tr></tbody></table><div class="paragraph"><p><strong>Request-body:</strong></p></div><div class="listingblock"><div class="content"><pre><code contenteditable="plaintext-only" id="7315e0cf26dcb75932d3fa2a746b84b7-body">{
  "id": 0,
  "data": ""
}</code></pre></div></div><div class="paragraph"><p><strong>Response-fields:</strong></p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"><col style="width: 25%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Field</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Since</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">返回消息</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">success</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">是否成功</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">timestamp</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应时间戳</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">状态码</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">响应数据</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─success</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">本次加签是否成功</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─certNo</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">签名的ukey的卡序列号</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─x509Certificate</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">签名的ukey证书</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─digestValue</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">XML报文的数字摘要</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─signatureValue</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">调用ukey获取的签名值</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">└─signatureNode</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">XML报文的签名节点
<li>用来组装 ds:SignedInfo 节点</li></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td></tr></tbody></table><div class="paragraph"><p><strong><button class="send-button" data-id="7315e0cf26dcb75932d3fa2a746b84b7">Send Request</button></strong><span id="7315e0cf26dcb75932d3fa2a746b84b7-resp-status"></span></p></div><div class="paragraph"><p><strong>Response-example:</strong></p></div><div class="listingblock"><div class="content" id="7315e0cf26dcb75932d3fa2a746b84b7-response"><pre><code class="json">{
  "message": "",
  "success": true,
  "timestamp": "",
  "code": 0,
  "data": {
    "success": true,
    "certNo": "",
    "x509Certificate": "",
    "digestValue": "",
    "signatureValue": "",
    "signatureNode": ""
  }
}</code></pre></div></div><div class="paragraph"><p><strong>Curl-example:</strong></p></div><div class="listingblock"><div class="content" id="7315e0cf26dcb75932d3fa2a746b84b7-curl"><pre><code class="bash">curl -X POST -H 'Content-Type: application/json' -H 'x-auth-token-eport-sign:DefaultAuthToken' -i http://localhost:8080/rpc/eport/signature --data '{
  "id": 0,
  "data": ""
}'</code></pre></div></div></div></div></div><footer class="page-footer"><span class="copyright">Generated by smart-doc at 2023-07-28 15:11:34</span><span class="footer-modification">Suggestions,contact,support and error reporting on<a href="https://gitee.com/smart-doc-team/smart-doc" target="_blank">&nbsp;Gitee</a>&nbsp;or<a href="https://github.com/smart-doc-group/smart-doc.git" target="_blank">&nbsp;Github</a></span></footer><div href="javascript:void(0)" id="toTop"><img id="upArrow" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABlUlEQVRIS+2UvUvDQBiH398Rly4udnARwUXs4qAIOigI4iL30dTZ2T9AcNPVvUsXF7uYttdScNDFRRAnB11cFFwKxcXBJTQnJ6lEbRI/CIiY9e6e5/e+9+ZAGX/ImE9/QKCU2jfGbGTQqq4xZgtSyisiKmQgIAAVCCFWAGxnIOhqrdd/xyUrpRZsP40xSwA6AI57vd5eq9W6T6s8tQIppSKi+gDQNREprfVNkiRRwDlfY4xZ+FAIuSOi8Qjw0nEc5XnebZwkViClXA2T5+xhY8xus9ncEUJMAziITN5FEARuXLsGCoQQywBs8uEovJ+Scz7FGDuMSM4cx3E9z+u8r+SDQEq5SEQ1IhoZBE+QnBKRq7V+iEreCDjn84wxCx9NgidITnK5nFutVh/7e14FSqnZIAhqAMY+A4+TADjyfb/Ubref7J4XQXhxNvnEV+AJlbTy+XypUqn4KBaLBZuciCa/A0+opN5oNFz7FpUBbP4EHicxxsyAcz7HGDvvz3nar5+2Ho5wOQwsU5+KNGDa+r8grUP0DBLjtRtNKEliAAAAAElFTkSuQmCC"><span id="upText">Top</span></div></div><script src="debug.js?v=1690528294756"></script><script src="search.js?v=1690528294756"></script><script>$(function () {$(window).scroll(function () {if ($(window).scrollTop() > 100) {let $toTop = $("#toTop");$toTop.fadeIn(1500);$toTop.hover(function () {$("#upArrow").hide();$("#upText").show()}, function () {$("#upArrow").show();$("#upText").hide()})} else {$("#toTop").fadeOut(1500)}});$("#toTop").click(function () {$("body,html").animate({scrollTop: 0}, 1000);return false})});</script></body></html>